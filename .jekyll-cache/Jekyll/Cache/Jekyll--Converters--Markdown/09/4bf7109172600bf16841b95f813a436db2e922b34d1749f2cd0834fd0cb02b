I"ä<p>Just some sample automation rules to get you started.</p>
<p>{% highlight yaml %}</p>
<h1>Example of entry in configuration.yaml</h1>
<p>automation:</p>
<h1>Turns on lights 1 hour before sunset if people are home</h1>
<h1>and if people get home between 16:00-23:00</h1>
<ul>
<li>alias: â€˜Rule 1 Light on in the eveningâ€™
trigger:
<h1>Prefix the first line of each trigger configuration</h1>
<h1>with a â€˜-â€™ to enter multiple</h1>
<ul>
<li>platform: sun
event: sunset
offset: â€˜-01:00:00â€™</li>
<li>platform: state
entity_id: all
to: â€˜homeâ€™
condition:</li>
</ul>
<h1>Prefix the first line of each condition configuration</h1>
<h1>with a â€˜-â€™â€™ to enter multiple</h1>
<ul>
<li>condition: state
entity_id: all
state: â€˜homeâ€™</li>
<li>condition: time
after: â€˜16:00:00â€™
before: â€˜23:00:00â€™
action:</li>
</ul>
<h1>With a single service call, we donâ€™t need a â€˜-â€™ before service - though you can if you want to</h1>
service: openpeerpower.turn_on
entity_id: group.living_room</li>
</ul>
<h1>Turn off lights when everybody leaves the house</h1>
<ul>
<li>alias: â€˜Rule 2 - Away Modeâ€™
trigger:
platform: state
entity_id: all
to: â€˜not_homeâ€™
action:
service: light.turn_off
entity_id: all</li>
</ul>
<h1>Notify when Paulus leaves the house in the evening</h1>
<ul>
<li>alias: â€˜Leave Home notificationâ€™
trigger:
platform: zone
event: leave
zone: zone.home
entity_id: device_tracker.paulus
condition:
condition: time
after: â€˜20:00â€™
action:
service: notify.notify
data:
message: â€˜Paulus left the houseâ€™</li>
</ul>
<h1>Send a notification via Pushover with the event of a Xiaomi cube. Custom event from the Xiaomi component.</h1>
<ul>
<li>alias: â€˜Xiaomi Cube Actionâ€™
initial_state: false
trigger:
platform: event
event_type: cube_action
event_data:
entity_id: binary_sensor.cube_158d000103a3de
action:
service_template: notify.pushover
data_template:
title: â€œCube event detectedâ€
message: â€œCube has triggered this event: {{ trigger.event }}â€
{% endhighlight %}</li>
</ul>
:ET