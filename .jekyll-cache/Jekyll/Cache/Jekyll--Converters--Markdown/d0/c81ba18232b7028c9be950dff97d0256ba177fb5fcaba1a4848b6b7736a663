I"o
<p>The <code>mosquitto</code> broker package ships commandline tools (often as <code>*-clients</code> package) to send and receive MQTT messages. As an alternative have a look at <a href="http://hbmqtt.readthedocs.org/en/latest/references/hbmqtt_pub.html">hbmqtt_pub</a> and <a href="http://hbmqtt.readthedocs.org/en/latest/references/hbmqtt_sub.html">hbmqtt_sub</a> which are provided by HBMQTT. For sending test messages to a broker running on localhost check the example below:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ mosquitto_pub -h 127.0.0.1 -t open-peer-power/switch/1/on -m &quot;Switch is ON&quot;</code></pre></figure>
<p>If you are using the embedded MQTT broker, the command looks a little different because you need to add the MQTT protocol version and your <a href="/docs/mqtt/broker#embedded-broker">broker credentials</a>.</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ mosquitto_pub -V mqttv311 -u openpeerpower -P &lt;broker password&gt; -t &quot;hello&quot; -m world</code></pre></figure>
<p>Another way to send MQTT messages by hand is to use the “Developer Tools” in the Frontend. Choose the “MQTT” tab. Enter something similar to the example below into the “Topic” field.</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">open-peer-power/switch/1/power</code></pre></figure>
<p>and in the Payload field</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ON</code></pre></figure>
<p>In the “Listen to a topic” field, type # to see everything, or “open-peer-power/switch/#” to just follow the published topic. Press “Start Listening” and then press “Publish”. The result should appear similar to the text below</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Message 23 received on open-peer-power/switch/1/power/stat/POWER at 12:16 PM:
ON
QoS: 0 - Retain: false
Message 22 received on open-peer-power/switch/1/power/stat/RESULT at 12:16 PM:
{
    &quot;POWER&quot;: &quot;ON&quot;
}
QoS: 0 - Retain: false</code></pre></figure>
<p>For reading all messages sent on the topic <code>open-peer-power</code> to a broker running on localhost:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ mosquitto_sub -h 127.0.0.1 -v -t &quot;open-peer-power/#&quot;</code></pre></figure>
<p>For the embedded MQTT broker the command looks like:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ mosquitto_sub -v -V mqttv311 -u openpeerpower -P &lt;broker password&gt; -t &quot;#&quot;</code></pre></figure>
:ET