I"$<p>If your Open Peer Power instance is only accessible from your local network you can still protect the communication between your browsers and the frontend with SSL/TLS. You can use <a href="/cookbook/tls_self_signed_certificate/">Self-sign certificate</a> but your browser will present a warning and some https-only features might not work.</p>
<h3>Requirement for this guide</h3>
<ul>
<li>Your Open Peer Power instance is not exposed to the internet. If it is - use <a href="/blog/2015/12/13/setup-encryption-using-lets-encrypt/">this guide</a></li>
<li>You control a public domain name. The domain doesn’t have to point to a site. A domain controlled by a <em>trusted</em> friend will do. (A friend you trust not to MITM you)</li>
<li>Your home router supports custom DNS entries.</li>
</ul>
<h3>Run certbot</h3>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mkdir certbot
cd certbot
wget https://dl.eff.org/certbot-auto
chmod a+x certbot-auto
sudo ./certbot-auto --manual certonly --preferred-challenges dns -d &quot;mydomain.com&quot; --email your@email.address</code></pre></figure>
<ul>
<li>Agree to Terms of Service</li>
<li>Choose whether to share your email with Electronic Frontier Foundation.</li>
<li>Agree to your IP being logged</li>
</ul>
<p>You will get the following text:</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">Please deploy a DNS TXT record under the name
_acme-challenge.mydomain.com with the following value:
<p>deadbeefdeadbeefdeadbeefdeadbeefdeadbeef</p>
<h2>Once this is deployed,</h2>
<p>Press Enter to Continue</code></pre></figure></p>
<ul>
<li>Deploy the value to TXT field using your domain registrar.</li>
<li>Go to a site that queries domain record. For example <a href="https://mxtoolbox.com/TXTLookup.aspx">this one</a> and look if it sees your brand new TXT field (Don’t forget to enter the full domain: <code>_acme-challenge.mydomain.com</code>)</li>
<li>Press Enter at certbot prompt.</li>
</ul>
<h3>Make mydomain.com point to your Open Peer Power instance</h3>
<p>If your router uses DNSMasq (for example DDWRT) add the following line to DNSMasq options:</p>
<figure class="highlight"><pre><code class="language-text" data-lang="text">address=/mydomain.com/&lt;hass IP&gt;</code></pre></figure>
<h3>Edit your Open Peer Power configuration to use your certificates</h3>
<p>The <a href="/integrations/http/"><code>http</code></a> section must contain the full path to the needed files.</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">http:
  base_url: https://mydomain.com:8123
  ssl_certificate: /etc/letsencrypt/live/mydomain.com/fullchain.pem
  ssl_key: /etc/letsencrypt/live/mydomain.com/privkey.pem</code></pre></figure>
<p>Make sure the files are accessible by the user that runs Open Peer Power.</p>
:ET