I"+<p>The conversation integration allows you to converse with Open Peer Power. You can either converse by pressing the microphone in the frontend (supported browsers only (no iOS)) or by calling the <code>conversation/process</code> service with the transcribed text.</p>
<p class='img'>
  <img src="/images/screenshots/voice-commands.png" />
  Screenshot of the conversation interface in Open Peer Power.
</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example base configuration.yaml entry
conversation:</code></pre></figure>
<h2>Adding custom sentences</h2>
<p>By default, it will support turning devices on and off. You can say things like “turn on kitchen lights” or “turn the living room lights off”. You can also configure your own sentences to be processed. This works by mapping sentences to intents and then configure the <a href="/integrations/intent_script/">intent script integration</a> to handle these intents.</p>
<p>Here is a simple example to be able to ask what the temperature in the living room is.</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
conversation:
  intents:
    LivingRoomTemperature:
     - What is the temperature in the living room
<p>intent_script:
LivingRoomTemperature:
speech:
text: It is currently {{ states.sensor.temperature }} degrees in the living room.</code></pre></figure></p>
<h2>Adding advanced custom sentences</h2>
<p>Sentences can contain slots (marked with curly braces: <code>{name}</code>) and optional words (marked with square brackets: <code>[the]</code>). The values of slots will be passed on to the intent and are available inside the templates.</p>
<p>The following configuration can handle the following sentences:</p>
<ul>
<li>Change the lights to red</li>
<li>Change the lights to green</li>
<li>Change the lights to blue</li>
<li>Change the lights to the color red</li>
<li>Change the lights to the color green</li>
<li>Change the lights to the color blue</li>
</ul>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
conversation:
  intents:
    ColorLight:
     - Change the lights to [the color] {color}
<p>intent_script:
ColorLight:
speech:
text: Changed the lights to {{ color }}.
action:
service: light.turn_on
data_template:
rgb_color:
- &quot;{% if color == 'red' %}255{% else %}0{% endif %}&quot;
- &quot;{% if color == 'green' %}255{% else %}0{% endif %}&quot;
- &quot;{% if color == 'blue' %}255{% else %}0{% endif %}&quot;</code></pre></figure></p>
<h4>Service <code>conversation.process</code></h4>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>text</code></td>
<td>yes</td>
<td>Transcribed text</td>
</tr>
</tbody>
</table>
:ET