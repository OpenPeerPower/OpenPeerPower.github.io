I"˙ <p>The <code>bom</code> weather platform uses the <a href="http://www.bom.gov.au">Australian Bureau of Meteorology (BOM)</a> as a source for current (half-hourly) meteorological data.</p>
<p>There is currently support for the following device types within Open Peer Power:</p>
<ul>
<li><a href="#camera">Camera</a></li>
<li><a href="#sensor">Sensor</a></li>
</ul>
<h2>Configuration</h2>
<p>To add the BOM weather platform to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
weather:
  - platform: bom</code></pre></figure>
<div class='note'>
<p>This platform is an alternative to the <a href="#sensor"><code>bom</code></a> sensor.
The weather platform is easier to configure but less customizable.</p>
</div>
<h2>Camera</h2>
<p>The <code>bom</code> camera platform uses the <a href="http://www.bom.gov.au">Australian Bureau of Meteorology (BOM)</a> <a href="http://www.bom.gov.au/australia/radar/">radar web service</a> as a source to generate an animated radar image.</p>
<p>To add the BOM camera to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
camera:
  - platform: bom
    location: YOUR_LOCATION</code></pre></figure>
<p>See below for a list of valid <code>location</code> values, and subsitute one for <code>YOUR_LOCATION</code>.</p>
<h3>Valid <code>location</code> values</h3>
<figure class="highlight"><pre><code class="language-txt" data-lang="txt">Adelaide        Albany          AliceSprings    Bairnsdale      Bowen
Brisbane        Broome          Cairns          Canberra        Carnarvon
Ceduna          Dampier         Darwin          Emerald         Esperance
Geraldton       Giles           Gladstone       Gove            Grafton
Gympie          HallsCreek      Hobart          Kalgoorlie      Katherine
Learmonth       Longreach       Mackay          Marburg         Melbourne
Mildura         Moree           MorningtonIs    MountIsa        MtGambier
Namoi           Newcastle       Newdegate       NorfolkIs       NWTasmania
Perth           PortHedland     SellicksHill    SouthDoodlakine Sydney
Townsville      WaggaWagga      Warrego         Warruwi         Watheroo
Weipa           WillisIs        Wollongong      Woomera         Wyndham
Yarrawonga</code></pre></figure>
<h3>Examples</h3>
<h4>Using <code>location</code> and <code>name</code></h4>
<p>Example <code>configuration.yaml</code> entry to display the <code>Townsville</code> radar with a camera named <code>mytowsvilleradar</code>:</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">camera:
  - platform: bom
    name: mytownsvilleradar
    location: Townsville</code></pre></figure>
<h4>Using <code>id</code>, <code>delta</code> and <code>frames</code></h4>
<p>In the event BOM creates a new radar, or a radar‚Äôs ID changes, you may define a custom <code>id</code> along with corresponding <code>delta</code> and <code>frames</code> values. You may also specify custom <code>delta</code> and <code>frames</code> values, along with a valid <code>location</code>, to override the default values for an existing radar. You may not define <code>location</code> and <code>id</code> in the same entity; you must specify one or the other. If <code>id</code> is specified, then <code>delta</code> and <code>frames</code> values <em>must</em> be provided. If <code>location</code> is specified, <code>delta</code> and <code>frames</code> <em>may</em> be provided to override the default values.</p>
<p>To find a live radar ID (e.g.,  for the <code>Townsville</code> radar), visit the <a href="http://www.bom.gov.au/australia/radar/">BOM website‚Äôs radars page</a>, click the link for the radar you are interested in, and note the URL, for example: <code>http://www.bom.gov.au/products/IDR733.loop.shtml</code>. The ID is the number following <code>IDR</code> (i.e., <code>733</code>) in the URL. You can also see, at the bottom of the radar image, a rotating set of times corresponding to the frames of the BOM‚Äôs JavaScript-driven animation. The number of minutes (in seconds) between these times corresponds to the camera‚Äôs <code>delta</code> value, and the number of frames corresponds to the <code>frames</code> value. At the time of this writing, the <code>Townsville</code> radar loop is composed of 4 frames at 10-minute (600 second) intervals. Since these are also the default values, this configuration block</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">camera:
  - platform: bom
    location: Townsville</code></pre></figure>
<p>is equivalent to this one</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">camera:
  - platform: bom
    id: &#39;053&#39;
    delta: 600
    frames: 4
    name: &#39;Carnarvon&#39;</code></pre></figure>
<h4>Using <code>filename</code></h4>
<p>This option can be specified to save the animated radar-imagery GIF to the given filesystem path.</p>
<p>Example <code>configuration.yaml</code> entry to display the <code>Sydney</code> radar and save the animated GIF to a file named <code>sydneyradar.gif</code> to the filesystem path accessible as <code>/local/sydneyradar.gif</code> via Open Peer Power‚Äôs web server:</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">camera:
  - platform: bom
    id: Sydney
    filename: /config/www/images/sydneyradar.gif</code></pre></figure>
<p>The file will be updated every <code>delta</code> seconds when the camera regenerates the animation.</p>
<h2>Sensor</h2>
<p>The <code>bom</code> sensor platform uses the <a href="http://www.bom.gov.au">Australian Bureau of Meteorology (BOM)</a> as a source for current (half-hourly) meteorological data.</p>
<ul>
<li>Each sensor will be given the <code>device_id</code> of ‚Äúbom [optionalname] friendlyname units‚Äù</li>
<li>A name is optional but if multiple BOM weather stations are used a name will be required.</li>
<li>The sensor checks for new data every minute, starting 30 minutes after the timestamp of the most recent data as the data is updated every half-hour.</li>
</ul>
<p>To add the BOM weather observation to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
sensor:
  - platform: bom
    monitored_conditions:
      - apparent_t
      - cloud
      - cloud_base_m
      - cloud_oktas
      - cloud_type_id
      - cloud_type
      - delta_t
      - gust_kmh
      - gust_kt
      - air_temp
      - dewpt
      - local_date_time
      - local_date_time_full
      - press
      - press_qnh
      - press_msl
      - press_tend
      - rain_trace
      - rel_hum
      - sea_state
      - swell_dir_worded
      - swell_height
      - swell_period
      - vis_km
      - weather
      - wind_dir
      - wind_spd_kmh
      - wind_spd_kt</code></pre></figure>
<p>To get the station ID for any BOM station:</p>
<ul>
<li>Find your station on these maps: <a href="http://www.bom.gov.au/nsw/observations/map.shtml">NSW</a>, <a href="http://www.bom.gov.au/qld/observations/map.shtml">QLD</a>, <a href="http://www.bom.gov.au/vic/observations/map.shtml">VIC</a>, <a href="http://www.bom.gov.au/wa/observations/map.shtml">WA</a>, <a href="http://www.bom.gov.au/sa/observations/map.shtml">SA</a>, <a href="http://www.bom.gov.au/tas/observations/map.shtml">TAS</a>, <a href="http://www.bom.gov.au/act/observations/canberramap.shtml">ACT</a>, <a href="http://www.bom.gov.au/nt/observations/map.shtml">NT</a>.</li>
<li>alternatively, from the <a href="http://www.bom.gov.au/">BOM website</a>, navigate to State -&gt; Observations -&gt; Latest Observations -&gt; Choose the station.</li>
<li>The URL will look like <code>http://www.bom.gov.au/products/IDx60801/[station].shtml</code></li>
<li>For Adelaide, the URL will look like <code>http://www.bom.gov.au/products/IDS60801/IDS60801.94675.shtml</code>; the station ID is <code>IDS60801.94675</code>.</li>
</ul>
<div class='note'>
<p>This sensor is an alternative to the <a href="#configuration"><code>bom</code></a> weather platform.
The weather platform is easier to configure but less customisable.</p>
</div>
:ET