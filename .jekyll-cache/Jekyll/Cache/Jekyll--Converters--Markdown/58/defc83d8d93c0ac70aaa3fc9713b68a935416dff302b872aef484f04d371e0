I"è<p><a href="https://almond.stanford.edu/">Almond</a> is an open, privacy-preserving virtual assistant by <a href="https://oval.cs.stanford.edu/">Stanford Open Virtual Assistant Lab</a>. It allows you, among other things, to control Open Peer Power using natural language. Once installed, it will be available on Lovelace via the microphone icon in the top right.</p>
<p>Almond consists of three parts:</p>
<ul>
<li>Almond Server: Knows about Open Peer Power and your data. Executes your sentences.</li>
<li>LUInet: Neural network that converts your sentences into Thingtalk programs.</li>
<li>Thingpedia: Skills that provide the building blocks for Thingtalk programs.</li>
</ul>
<p><a href='/images/integrations/almond/almond-architecture.svg'><img src='/images/integrations/almond/almond-architecture.svg' alt='Architectural overview of how all pieces fit together.' style='border: 0;box-shadow: none;'></a></p>
<h2>Installation</h2>
<h3>Open Peer Power add-on installation</h3>
<p>To install Almond Server, go to the Open Peer Power add-on store, search for Almond and click on Install. Once started, it will initiate a configuration flow to finish set up in Open Peer Power. You can find it on the integrations page in the configuration panel.</p>
<h3>Manual installation</h3>
<p>You can install Almond Server by following <a href="https://github.com/stanford-oval/almond-server#running-almond-server">the instructions in their README</a>.</p>
<p>Before linking it to Open Peer Power, you will need to visit the Almond UI once to create a password. It is by default available on port 3000.</p>
<p>Once installed, configure Almond like this:</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
almond:
  type: local
  host: http://127.0.0.1:3000</code></pre></figure>
<p>The Almond integration does not update configuration entries yet. If you make a change to configuration.yaml, you will need to remove the configuration entry and then restart Open Peer Power.</p>
<h3>Almond Web</h3>
<p>Stanford offers a hosted version of Almond Server called Almond Web. To use this, go to the integrations page and add Almond using the add integration flow.</p>
<p>Your Open Peer Power installation needs to be externally accessible if you want Almond Web to be able to control Open Peer Power.</p>
<h3>Almond Web - Manual installation</h3>
<p>It is possible to set up Almond Web manually. You will need to create your own client ID and secret in the web interface.</p>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"># Example configuration.yaml entry
almond:
  type: oauth2
  client_id: AAAAAAAAAAAAA
  client_secret: BBBBBBBBBBBBBBBBB</code></pre></figure>
<p>You can now go to the integrations page and start the configuration flow.</p>
<h2>Language Support</h2>
<p>Almond is currently limited to the English language. This is not a technical limitation but requires specialized engineering effort. Almond has currently no public timeline for adding other languages.</p>
<h2>Device Support</h2>
<p>Almond is constantly improving. It does not currently support all devices, but we‚Äôre working with Almond on improving this.</p>
:ET